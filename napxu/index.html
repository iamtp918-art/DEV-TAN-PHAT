<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Báo giá Xu • Bậc giá + Thanh toán</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --danger-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.18);
            --text-primary: #1a202c;
            --text-secondary: #a0aec0;
            --bg-primary: #f7fafc;
            --bg-secondary: rgba(255, 255, 255, 0.8);
            --border-color: rgba(255, 255, 255, 0.2);
            --shadow-sm: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --shadow-md: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --shadow-lg: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --shadow-xl: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --radius-sm: 0.5rem;
            --radius-md: 1rem;
            --radius-lg: 1.5rem;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --blur: blur(10px);
        }

        [data-theme="dark"] {
            --text-primary: #e2e8f0;
            --text-secondary: #a0aec0;
            --bg-primary: #1a202c;
            --bg-secondary: rgba(26, 32, 44, 0.8);
            --border-color: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(26, 32, 44, 0.25);
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            padding: 1.5rem;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            cursor: pointer;
            user-select: none;
            transition: var(--transition);
            position: relative;
        }

        .logo::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--primary-gradient);
            transition: width 0.4s ease;
            border-radius: 2px;
        }

        .logo:hover::after {
            width: 100%;
        }

        .logo:hover {
            transform: scale(1.1) rotate(2deg);
            filter: drop-shadow(0 0 10px rgba(102, 126, 234, 0.5));
        }

        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .theme-toggle {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border: 1px solid var(--glass-border);
            color: var(--text-primary);
            padding: 1rem;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
        }

        .theme-toggle:hover {
            background: var(--primary-gradient);
            border-color: transparent;
            color: white;
            transform: rotate(360deg) scale(1.1);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
        }

        .effects {
            display: flex;
            gap: 0.5rem;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            padding: 0.75rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--glass-border);
        }

        .effect-btn {
            padding: 0.75rem 1rem;
            border: 1px solid transparent;
            background: transparent;
            color: var(--text-secondary);
            border-radius: var(--radius-sm);
            font-size: 0.875rem;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .effect-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            transition: left 0.6s;
            z-index: -1;
        }

        .effect-btn:hover::before,
        .effect-btn.active::before {
            left: 0;
        }

        .effect-btn:hover,
        .effect-btn.active {
            color: white;
            border-color: transparent;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-bottom: 3rem;
        }

        .activity-section {
            margin-bottom: 3rem;
        }

        .activity-card {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            max-height: 500px;
            overflow-y: auto;
        }

        .activity-card::-webkit-scrollbar {
            width: 6px;
        }

        .activity-card::-webkit-scrollbar-track {
            background: var(--glass-border);
            border-radius: 3px;
        }

        .activity-card::-webkit-scrollbar-thumb {
            background: var(--primary-gradient);
            border-radius: 3px;
        }

        .activity-card:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: var(--shadow-xl);
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: var(--primary-gradient);
            transform: scaleX(0);
            transition: transform 0.4s ease;
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: var(--shadow-xl);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 2rem;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-title i {
            background: var(--primary-gradient);
            color: white;
            padding: 0.75rem;
            border-radius: 50%;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .quantity-selector {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            position: relative;
        }

        label {
            font-weight: 500;
            color: var(--text-secondary);
            font-size: 1rem;
        }

        input[type="number"] {
            padding: 1.25rem;
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-md);
            font-size: 1.125rem;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            color: var(--text-primary);
            transition: var(--transition);
            position: relative;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary-gradient);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);
            transform: scale(1.02);
        }

        .preset-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
        }

        .preset-btn {
            padding: 1.25rem;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .preset-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-gradient);
            opacity: 0;
            transition: opacity 0.4s ease;
            z-index: -1;
        }

        .preset-btn:hover::before,
        .preset-btn.active::before {
            opacity: 1;
        }

        .preset-btn:hover,
        .preset-btn.active {
            color: white;
            border-color: var(--primary-gradient);
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .price-display {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 2rem;
            align-items: end;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            padding: 2rem;
            border-radius: var(--radius-md);
            border: 1px solid var(--glass-border);
        }

        .price-item {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .price-label {
            font-size: 1rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .price-value {
            font-size: 1.75rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: pulseText 2s infinite;
        }

        @keyframes pulseText {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 1.25rem 2rem;
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 1rem;
            justify-content: center;
            position: relative;
            overflow: hidden;
            flex: 1;
            backdrop-filter: var(--blur);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.6);
        }

        .btn-secondary {
            background: var(--glass-bg);
            color: var(--text-primary);
            border: 2px solid var(--glass-border);
        }

        .btn-secondary:hover {
            background: var(--primary-gradient);
            color: white;
            border-color: transparent;
        }

        .btn-copy {
            font-size: 1rem;
            padding: 1rem 1.5rem;
            flex: none;
        }

        .tiers {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid var(--glass-border);
        }

        .tier-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid var(--glass-border);
            font-size: 1rem;
            opacity: 0;
            animation: fadeInUp 0.8s ease forwards;
        }

        .tier-item:nth-child(1) { animation-delay: 0.2s; }
        .tier-item:nth-child(2) { animation-delay: 0.4s; }
        .tier-item:nth-child(3) { animation-delay: 0.6s; }
        .tier-item:nth-child(4) { animation-delay: 0.8s; }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tier-item:last-child {
            border-bottom: none;
        }

        .tier-item span:first-child {
            font-weight: 500;
            color: var(--text-secondary);
        }

        .payment-info {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border-radius: var(--radius-lg);
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
        }

        .bank-details {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 2rem;
            align-items: center;
            margin-bottom: 2rem;
        }

        .detail-row {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .detail-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .detail-value {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.25rem;
        }

        .copy-btn {
            padding: 0.75rem 1rem;
            background: var(--success-gradient);
            color: white;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-size: 0.875rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            backdrop-filter: var(--blur);
        }

        .copy-btn:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .qr-section {
            text-align: center;
            margin-top: 2rem;
        }

        .btn-qr {
            background: var(--success-gradient);
            color: white;
            width: 100%;
        }

        .btn-qr:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 15px 35px rgba(79, 172, 254, 0.6);
        }

        .notification {
            background: var(--warning-gradient);
            color: white;
            padding: 2rem;
            border-radius: var(--radius-md);
            margin-top: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            position: relative;
            overflow: hidden;
            backdrop-filter: var(--blur);
        }

        .notification::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: rgba(255,255,255,0.3);
        }

        .zalo-btn {
            background: var(--secondary-gradient);
            color: white;
            width: 100%;
            margin-top: 1rem;
            border: none;
            padding: 1.25rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            backdrop-filter: var(--blur);
        }

        .zalo-btn:hover {
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 15px 35px rgba(240, 147, 251, 0.6);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            margin: 5% auto;
            padding: 3rem;
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 500px;
            position: relative;
            animation: modalSlideIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: var(--shadow-xl);
            border: 1px solid var(--glass-border);
        }

        @keyframes modalSlideIn {
            from { transform: translateY(-60px) scale(0.9); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .close {
            position: absolute;
            right: 1.5rem;
            top: 1.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            backdrop-filter: var(--blur);
        }

        .close:hover {
            background: var(--glass-bg);
            color: var(--text-primary);
            transform: rotate(90deg);
        }

        .qr-image, #qrCanvas {
            width: 100%;
            max-width: 300px;
            height: auto;
            margin: 2rem 0;
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            padding: 1.25rem;
            background: white;
            box-shadow: var(--shadow-md);
        }

        footer {
            text-align: center;
            padding: 3rem 0;
            color: var(--text-secondary);
            border-top: 1px solid var(--glass-border);
            margin-top: 3rem;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
        }

        .admin-panel {
            display: none;
            position: fixed;
            top: 0;
            right: -500px;
            width: 500px;
            height: 100vh;
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            border-left: 1px solid var(--glass-border);
            padding: 3rem;
            transition: right 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 1001;
            overflow-y: auto;
            box-shadow: -8px 0 32px rgba(31, 38, 135, 0.37);
        }

        .admin-panel.open {
            right: 0;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--glass-border);
        }

        .admin-title {
            font-size: 1.5rem;
            font-weight: 600;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .admin-close {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-secondary);
            transition: var(--transition);
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            backdrop-filter: var(--blur);
        }

        .admin-close:hover {
            background: var(--glass-bg);
            color: var(--text-primary);
            transform: rotate(180deg);
        }

        .admin-form {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .admin-input {
            width: 100%;
            padding: 1.25rem;
            border: 2px solid var(--glass-border);
            border-radius: var(--radius-md);
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            color: var(--text-primary);
            transition: var(--transition);
            font-size: 1.125rem;
        }

        .admin-input:focus {
            outline: none;
            border-color: var(--primary-gradient);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);
            transform: scale(1.02);
        }

        .admin-textarea {
            resize: vertical;
            min-height: 150px;
        }

        .activity-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .activity-item {
            background: var(--glass-bg);
            backdrop-filter: var(--blur);
            padding: 1rem;
            border-radius: var(--radius-sm);
            border: 1px solid var(--glass-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideInRight 0.5s ease-out;
            opacity: 0;
            transform: translateX(100%);
        }

        .activity-item.show {
            opacity: 1;
            transform: translateX(0);
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(100%); }
            to { opacity: 1; transform: translateX(0); }
        }

        .activity-time {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .activity-detail {
            font-weight: 500;
            color: var(--text-primary);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            header {
                flex-direction: column;
                gap: 2rem;
            }

            .controls {
                flex-wrap: wrap;
                justify-content: center;
            }

            .bank-details {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .preset-buttons {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        /* Enhanced effects */
        .led-mode { 
            text-shadow: 0 0 20px currentColor, 0 0 40px currentColor, 0 0 60px currentColor; 
            animation: ledPulse 1s infinite alternate;
        }

        @keyframes ledPulse {
            0% { opacity: 1; text-shadow: 0 0 20px currentColor, 0 0 40px currentColor, 0 0 60px currentColor; }
            100% { opacity: 0.8; text-shadow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor; }
        }

        .blue-neon { 
            text-shadow: 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #00f, 0 0 40px #00f, 0 0 50px #00f;
            animation: neonGlow 2s ease-in-out infinite alternate;
        }

        @keyframes neonGlow {
            from { text-shadow: 0 0 10px #00f, 0 0 20px #00f, 0 0 30px #00f, 0 0 40px #00f; }
            to { text-shadow: 0 0 20px #00f, 0 0 30px #00f, 0 0 40px #00f, 0 0 50px #00f, 0 0 60px #00f; }
        }

        .rainbow-breathe { 
            animation: rainbow 4s ease-in-out infinite, breathe 3s ease-in-out infinite;
        }

        @keyframes rainbow { 
            0%, 100% { filter: hue-rotate(0deg); } 
            100% { filter: hue-rotate(360deg); } 
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); } 
            50% { transform: scale(1.1); } 
        }

        .pixel-marquee { 
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: marquee 20s linear infinite, shimmer 3s linear infinite;
        }

        @keyframes marquee { 
            0% { transform: translateX(100%); } 
            100% { transform: translateX(-100%); } 
        }

        @keyframes shimmer {
            0% { background-position: -300%; }
            100% { background-position: 300%; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
    
@media (max-width: 600px) {
    header {
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 1rem;
    }

    .logo {
        font-size: 1.5rem;
        margin-bottom: 1rem;
    }

    .controls {
        flex-direction: column;
        gap: 0.75rem;
    }

    .section-title {
        font-size: 1.25rem;
        justify-content: center;
        text-align: center;
    }

    .main-content {
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .preset-buttons {
        grid-template-columns: repeat(2, 1fr);
    }

    .price-display {
        grid-template-columns: 1fr;
        text-align: center;
    }

    .actions {
        flex-direction: column;
    }
}

</style>
</head>
<body data-theme="light">
    <div id="particles-js"></div>
    <div class="container">
        <header>
            <div class="logo" id="logo" onclick="handleLogoClick()">DEV TANPHAT</div>
            <div class="controls">
                <button class="theme-toggle" onclick="toggleTheme()" title="Chuyển đổi chủ đề">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="effects">
                    <button class="effect-btn" onclick="applyEffect('led-mode')">LED</button>
                    <button class="effect-btn" onclick="applyEffect('blue-neon')">Neon</button>
                    <button class="effect-btn" onclick="applyEffect('rainbow-breathe')">Rainbow</button>
                    <button class="effect-btn" onclick="applyEffect('pixel-marquee')">Marquee</button>
                </div>
            </div>
        </header>

        <div class="update-notice section-title">
            <i class="fas fa-sync-alt"></i>
            CẬP NHẬT GIÁ XU MỚI NHẤT
            <span id="updateTime" style="font-size: 1rem; color: var(--text-secondary); margin-left: auto; cursor:pointer;">Cập nhật: --/--/----</span>
        </div>

        <div class="main-content">
            <div class="card">
                <h2 class="section-title">
                    <i class="fas fa-coins"></i>
                    Chọn số lượng Xu
                </h2>
                <div class="quantity-selector">
                    <div class="input-group">
                        <label for="quantity">Số lượng (Xu):</label>
                        <input type="number" id="quantity" min="1" max="2500000" placeholder="Nhập số lượng Xu" value="1000">
                        <small style="color: var(--text-secondary);">Tối đa 2.500.000 Xu · dùng chips nhanh</small>
                    </div>
                    <div class="preset-buttons">
                        <button class="preset-btn active" onclick="setQuantity(1000)">1.000</button>
                        <button class="preset-btn" onclick="setQuantity(5000)">5.000</button>
                        <button class="preset-btn" onclick="setQuantity(50000)">50.000</button>
                        <button class="preset-btn" onclick="setQuantity(100000)">100.000</button>
                        <button class="preset-btn" onclick="setQuantity(250000)">250.000</button>
                        <button class="preset-btn" onclick="setQuantity(500000)">500.000</button>
                        <button class="preset-btn" onclick="setQuantity(1000000)">1.000.000</button>
                        <button class="preset-btn" onclick="setQuantity(2500000)">2.500.000</button>
                    </div>
                    <div class="price-display">
                        <div class="price-item">
                            <span class="price-label">Đơn giá hiệu lực</span>
                            <span class="price-value" id="unitPrice">—</span>
                            <small id="unitPriceDetail" style="color: var(--text-secondary); font-size: 0.875rem;">—</small>
                        </div>
                        <div class="price-item">
                            <span class="price-label">Thành tiền</span>
                            <span class="price-value" id="totalPrice">—</span>
                            <small style="color: var(--text-secondary); font-size: 0.875rem;">VND</small>
                        </div>
                    </div>
                    <div class="actions">
                        <button class="btn btn-secondary btn-copy" onclick="copyPrice()">
                            <i class="fas fa-copy"></i> Sao chép giá
                        </button>
                        <button class="btn btn-primary" onclick="openQRModal()">
                            <i class="fas fa-credit-card"></i> Thanh toán
                        </button>
                    </div>
                </div>
                <div class="tiers">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1.5rem;">Bậc giá & lưu ý</h3>
                    <div class="tier-item"><span>< 50.000 Xu</span><span>290.000 đ / 1.000 Xu (290 đ/Xu)</span></div>
                    <div class="tier-item"><span>≥ 50.000 Xu</span><span>286.000 đ / 1.000 Xu (286 đ/Xu)</span></div>
                    <div class="tier-item"><span>≥ 100.000 Xu</span><span>285.000 đ / 1.000 Xu (285 đ/Xu)</span></div>
                    <div class="tier-item"><span>Số lượng tối đa:</span><span>2.500.000 Xu</span></div>
                </div>
            </div>

            <div class="card">
                <h2 class="section-title">
                    <i class="fas fa-credit-card"></i>
                    Thông Tin Thanh Toán
                </h2>
                <div class="bank-details">
                    <div class="detail-row">
                        <span class="detail-label">Ngân hàng</span>
                        <span class="detail-value">BIDV</span>
                    </div>
                    <div></div>
                    <div class="detail-row">
                        <span class="detail-label">Chủ TK</span>
                        <span class="detail-value">TRAN TAN PHAT</span>
                    </div>
                    <div></div>
                    <div class="detail-row">
                        <span class="detail-label">Số TK</span>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span class="detail-value" id="accountNumber">8872060824</span>
                            <button class="copy-btn" onclick="copyAccount()">
                                <i class="fas fa-copy"></i> Sao chép
                            </button>
                        </div>
                    </div>
                    <div></div>
                    <div class="detail-row">
                        <span class="detail-label">Số tiền hiện tại</span>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span class="detail-value" id="currentAmount">—</span>
                            <button class="copy-btn" onclick="copyAmount()">
                                <i class="fas fa-copy"></i> Sao chép
                            </button>
                        </div>
                    </div>
                </div>
                <div class="detail-row" style="margin-top: 2rem;">
                    <span class="detail-label">Nội dung chuyển khoản:</span>
                    <span class="detail-value">Mặc định của ngân hàng.</span>
                </div>
                <div class="qr-section">
                    <button class="btn btn-qr" onclick="generateQR()">
                        <i class="fas fa-qrcode"></i> Tạo QR / Thanh toán
                    </button>
                </div>
                <div class="notification">
                    <i class="fas fa-exclamation-triangle" style="font-size: 1.5rem; margin-bottom: 1rem; animation: shake 0.5s infinite;"></i>
                    <strong>Thông báo Xác thực thanh toán & Quét QR nạp</strong>
                    <p>Sau khi thanh toán, vui lòng chụp lại bill/biên lai hoặc ảnh màn hình.</p>
                    <p>Nhấn Gửi Zalo để mở chat và gửi bill/biên lai cho ADMIN xác nhận.</p>
                    <p>ADMIN xác nhận xong sẽ gửi mã QR nạp cho bạn.</p>
                    <small>Không cần upload bill trên web – gửi qua Zalo Admin.</small>
                    <button class="zalo-btn" onclick="openZalo()">
                        <i class="fab fa-zalo"></i> Gửi Zalo
                    </button>
                </div>
            </div>
        </div>

        <div class="activity-section">
            <div class="activity-card">
                <h2 class="section-title">
                    <i class="fas fa-list-alt"></i>
                    Hoạt động đã nạp
                </h2>
                <ul class="activity-list" id="activityList">
                    <!-- Activities will be populated by JS -->
                </ul>
            </div>
        </div>

        <footer>
            © 2025 · Thiết kế bởi TRAN TAN PHAT ☑
        </footer>
    </div>

    <!-- QR Modal -->
    <div id="qrModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeQRModal()">&times;</span>
            <h3 style="text-align: center; margin-bottom: 2rem; color: var(--text-primary);">Thanh toán VietQR – BIDV</h3>
            <div class="bank-details" style="grid-template-columns: 1fr;">
                <div class="detail-row">
                    <span class="detail-label">Ngân hàng</span>
                    <span class="detail-value">BIDV</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Chủ TK</span>
                    <span class="detail-value">TRAN TAN PHAT</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Số TK</span>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span class="detail-value">8872060824</span>
                        <button class="copy-btn" onclick="copyAccount()">
                            <i class="fas fa-copy"></i> Sao chép
                        </button>
                    </div>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Số tiền</span>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <span class="detail-value" id="modalAmount">—</span>
                        <button class="copy-btn" onclick="copyAmount()">
                            <i class="fas fa-copy"></i> Sao chép
                        </button>
                    </div>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Nội dung</span>
                    <span class="detail-value">Mặc định (theo ngân hàng)</span>
                </div>
            </div>
            <div style="text-align: center;">
                <canvas id="qrCanvas" class="qr-image" style="display: none;"></canvas>
                <img id="qrImage" class="qr-image" src="" alt="QR Code" style="display: none;">
                <button class="btn btn-primary" onclick="toggleQR()" style="width: 100%; margin-top: 1.5rem;">
                    <i class="fas fa-qrcode"></i> Mở QR
                </button>
                <p style="font-size: 1rem; color: var(--text-secondary); margin-top: 1rem;">
                    Nếu QR không hiện, bấm “Mở QR” hoặc chuyển khoản thủ công bằng STK trên.
                </p>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel">
        <div class="admin-header">
            <h3 class="admin-title">Admin mini • Bậc giá</h3>
            <button class="admin-close" onclick="closeAdminPanel()">×</button>
        </div>
        <p style="font-size: 1rem; color: var(--text-secondary);">Mở bằng Ctrl+Shift+U hoặc nhấn logo 5 lần · Mật khẩu 2407. Lưu trong localStorage.</p>
        <form class="admin-form" id="adminForm">
            <div class="input-group">
                <label for="priceLow">Giá < 50k (đ/Xu):</label>
                <input type="number" id="priceLow" class="admin-input" value="290">
            </div>
            <div class="input-group">
                <label for="priceMid">Giá ≥ 50k (đ/Xu):</label>
                <input type="number" id="priceMid" class="admin-input" value="286">
            </div>
            <div class="input-group">
                <label for="priceHigh">Giá ≥ 100k (đ/Xu):</label>
                <input type="number" id="priceHigh" class="admin-input" value="285">
            </div>
            <div class="input-group">
                <label for="maxXu">Tối đa (Xu):</label>
                <input type="number" id="maxXu" class="admin-input" value="2500000">
            </div>
            <div class="input-group">
                <label for="note">Ghi chú:</label>
                <textarea id="note" class="admin-input admin-textarea" placeholder="Nhập ghi chú..."></textarea>
            </div>
            <div class="actions">
                <button type="button" class="btn btn-primary" onclick="saveAdmin()">Lưu</button>
                <button type="button" class="btn btn-secondary" onclick="closeAdminPanel()">Đóng</button>
            </div>
        </form>
    </div>

    <script>
        // Particles.js initialization
        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: '#ffffff' },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: '#ffffff', opacity: 0.4, width: 1 },
                move: { enable: true, speed: 2, direction: 'none', random: false, straight: false, out_mode: 'out', bounce: false }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true },
                modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
            },
            retina_detect: true
        });

        // Global variables
        let logoClicks = 0;
        let currentEffect = '';
        let prices = { low: 290, mid: 286, high: 285 };
        let maxXu = 2500000;
        let note = '';
        let updateTime = localStorage.getItem('updateTime') || '--/--/----';

        // Activity simulation variables
        const customerNames = [
            'Anh Nam', 'Anh Tuấn', 'Chị Thảo', 'Anh Lâm', 'Chị Hương',
            'Chị My', 'Anh Đặng', 'Anh Hiếu', 'Anh Tùng', 'Anh Khoa',
            'Chị Trang', 'Anh Quang', 'Anh Thanh', 'Anh Quốc', 'Anh Vinh',
            'Anh Trịnh', 'Anh Quốc', 'Chị Kiều', 'Chị Ánh', 'Chị Phương'
        ];

        let activityInterval;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateNow(); // tự động cập nhật khi load
            document.getElementById('updateTime').textContent = `Cập nhật: ${updateTime}`;
            loadPrices();
            updatePriceDisplay();
            document.getElementById('quantity').addEventListener('input', updatePriceDisplay);
            document.addEventListener('keydown', handleShortcut);

            // Initialize activity simulation
            initializeActivity();
        });

        function initializeActivity() {
            const activityList = document.getElementById('activityList');
            // Add some initial activities
            for (let i = 0; i < 5; i++) {
                addRandomActivity();
            }
            // Set interval for new activities every 2-5 minutes (120000 - 300000 ms)
            activityInterval = setInterval(() => {
                addRandomActivity();
                // Keep only last 10 activities
                const items = activityList.children;
                if (items.length > 10) {
                    activityList.removeChild(items[0]);
                }
            }, Math.random() * 180000 + 120000);
        }

        function addRandomActivity() {
            const activityList = document.getElementById('activityList');
            const now = new Date().toLocaleString('vi-VN');
            const randomName = customerNames[Math.floor(Math.random() * customerNames.length)];
            const randomXu = Math.floor(Math.random() * (2500000 - 1000 + 1)) + 1000;
            const activityItem = document.createElement('li');
            activityItem.classList.add('activity-item');
            activityItem.innerHTML = `
                <span class="activity-time">${now}</span>
                <span class="activity-detail">${randomName} nạp ${randomXu.toLocaleString()} Xu</span>
            `;
            activityList.appendChild(activityItem);
            // Trigger animation
            setTimeout(() => {
                activityItem.classList.add('show');
            }, 10);
        }

        // Theme toggle
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            const icon = document.querySelector('.theme-toggle i');
            icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            // Update particles color for theme
            if (newTheme === 'dark') {
                particlesJS('particles-js', { particles: { color: { value: '#000000' }, line_linked: { color: '#000000' } } });
            } else {
                particlesJS('particles-js', { particles: { color: { value: '#ffffff' }, line_linked: { color: '#ffffff' } } });
            }
        }

        // Load saved theme
        if (localStorage.getItem('theme') === 'dark') {
            document.body.setAttribute('data-theme', 'dark');
            document.querySelector('.theme-toggle i').className = 'fas fa-sun';
        }

        // Effects
        function applyEffect(effect) {
            document.body.className = effect;
            currentEffect = effect;
            document.querySelectorAll('.effect-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        // Quantity functions
        function setQuantity(qty) {
            document.getElementById('quantity').value = qty;
            document.querySelectorAll('.preset-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            updatePriceDisplay();
        }

        function updatePriceDisplay() {
            const qty = parseInt(document.getElementById('quantity').value) || 0;
            let unitPrice = prices.low;
            let detail = '(290 đ/Xu)';

            if (qty >= 100000) {
                unitPrice = prices.high;
                detail = `(285 đ/Xu)`;
            } else if (qty >= 50000) {
                unitPrice = prices.mid;
                detail = `(286 đ/Xu)`;
            }

            const total = qty * unitPrice;

            document.getElementById('unitPrice').textContent = `${unitPrice.toLocaleString()} đ`;
            document.getElementById('unitPriceDetail').textContent = detail;
            document.getElementById('totalPrice').textContent = total.toLocaleString();
            document.getElementById('currentAmount').textContent = total.toLocaleString();
            document.getElementById('modalAmount').textContent = total.toLocaleString();
        }

        function copyPrice() {
            const total = document.getElementById('totalPrice').textContent;
            navigator.clipboard.writeText(`${total} VND`).then(() => showToast('Giá đã sao chép!'));
        }

        function copyAccount() {
            navigator.clipboard.writeText('8872060824').then(() => showToast('Số TK đã sao chép!'));
        }

        function copyAmount() {
            const amount = document.getElementById('currentAmount').textContent;
            navigator.clipboard.writeText(`${amount} VND`).then(() => showToast('Số tiền đã sao chép!'));
        }

        // Modal functions
        function openQRModal() {
            updatePriceDisplay();
            document.getElementById('qrModal').style.display = 'block';
        }

        function closeQRModal() {
            document.getElementById('qrModal').style.display = 'none';
        }

        function toggleQR() {
            const canvas = document.getElementById('qrCanvas');
            const img = document.getElementById('qrImage');
            if (canvas.style.display === 'none' && img.style.display === 'none') {
                generateQR();
            } else {
                canvas.style.display = 'none';
                img.style.display = 'none';
            }
        }

        
async function generateQR() {
    const amount = document.getElementById('currentAmount').textContent.replace(/,/g, '');
    const qrUrl = `https://img.vietqr.io/image/BIDV-8872060824-compact.png?amount=${amount}&addInfo=NAPXU&accountName=TRAN%20TAN%20PHAT`;
    const img = document.getElementById('qrImage');
    img.src = qrUrl;
    img.style.display = 'block';
    document.getElementById('qrCanvas').style.display = 'none';
}


        function openZalo() {
            window.open('https://zalo.me/0946743849', '_blank');
        }

        // Admin functions
        let adminOpen = false;
        function handleLogoClick() {
            logoClicks++;
            if (logoClicks >= 5) {
                openAdminPanel();
                logoClicks = 0;
            }
        }

        function handleShortcut(e) {
            if (e.ctrlKey && e.shiftKey && e.key === 'U') {
                e.preventDefault();
                openAdminPanel();
            }
        }

        function openAdminPanel() {
            const pass = prompt('Nhập mật khẩu (2407):');
            if (pass === '2407') {
                document.getElementById('adminPanel').classList.add('open');
                adminOpen = true;
                loadAdminForm();
            }
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').classList.remove('open');
            adminOpen = false;
        }

        function loadAdminForm() {
            document.getElementById('priceLow').value = prices.low;
            document.getElementById('priceMid').value = prices.mid;
            document.getElementById('priceHigh').value = prices.high;
            document.getElementById('maxXu').value = maxXu;
            document.getElementById('note').value = note;
        }

        function saveAdmin() {
            prices.low = parseInt(document.getElementById('priceLow').value);
            prices.mid = parseInt(document.getElementById('priceMid').value);
            prices.high = parseInt(document.getElementById('priceHigh').value);
            maxXu = parseInt(document.getElementById('maxXu').value);
            note = document.getElementById('note').value;
            const now = new Date().toLocaleString('vi-VN');
            updateTime = now;
            document.getElementById('updateTime').textContent = `Cập nhật: ${now}`;
            localStorage.setItem('prices', JSON.stringify(prices));
            localStorage.setItem('maxXu', maxXu);
            localStorage.setItem('note', note);
            localStorage.setItem('updateTime', updateTime);
            updatePriceDisplay();
            showToast('Đã lưu thay đổi!');
            closeAdminPanel();
        }

        function loadPrices() {
            const savedPrices = localStorage.getItem('prices');
            if (savedPrices) {
                prices = JSON.parse(savedPrices);
            }
            const savedMax = localStorage.getItem('maxXu');
            if (savedMax) maxXu = parseInt(savedMax);
            note = localStorage.getItem('note') || '';
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed; 
                top: 30px; 
                right: 30px; 
                background: var(--success-gradient); 
                color: white; 
                padding: 1.25rem 2rem; 
                border-radius: var(--radius-md); 
                z-index: 1002; 
                transform: translateX(100%) scale(0.95); 
                transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                box-shadow: var(--shadow-xl);
                backdrop-filter: var(--blur);
            `;
            toast.innerHTML = `<i class="fas fa-check-circle" style="margin-right: 0.75rem;"></i>${message}`;
            document.body.appendChild(toast);
            requestAnimationFrame(() => {
                toast.style.transform = 'translateX(0) scale(1)';
            });
            setTimeout(() => {
                toast.style.transform = 'translateX(100%) scale(0.95)';
                setTimeout(() => document.body.removeChild(toast), 500);
            }, 4000);
        }

        
        // Thêm hàm updateNow để cập nhật ngày giờ khi click
        function updateNow() {
            const now = new Date().toLocaleString('vi-VN');
            updateTime = now;
            document.getElementById('updateTime').textContent = `Cập nhật: ${now}`;
            localStorage.setItem('updateTime', updateTime);
            showToast('Đã cập nhật thời gian!');
        }

        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('qrModal');
            if (event.target === modal) {
                closeQRModal();
            }
        }
    </script>
</body>
</html>
